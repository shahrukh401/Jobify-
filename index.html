<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jobify ‚Äì Find Your Dream Job</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background: #f4f6f9;
      color: #333;
      transition: background 0.3s, color 0.3s;
    }
    body.dark {
      background: #121212;
      color: #eee;
    }

    .top-bar {
      background-color: #212529;
      color: #fff;
      padding: 8px 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 14px;
    }
    .top-bar a {
      color: #ffc107;
      text-decoration: none;
      margin-left: 10px;
    }

    header {
      background: linear-gradient(90deg, #007bff, #0056b3);
      color: #fff;
      text-align: center;
      padding: 25px 15px;
    }
    header h1 { margin: 0; font-size: 30px; }

    .container {
      max-width: 900px;
      margin: 20px auto;
      padding: 15px;
    }

    .search-bar {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    .search-bar input, .search-bar select {
      flex: 1;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    .search-bar button {
      background: #007bff;
      color: #fff;
      border: none;
      padding: 8px 15px;
      border-radius: 6px;
      cursor: pointer;
    }

    .job-card {
      background: #fff;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    body.dark .job-card { background: #1e1e1e; }

    .job-card h3 { margin: 0; }
    .job-actions {
      display: flex;
      gap: 10px;
      margin-top: 5px;
    }
    .job-actions button {
      flex: 1;
      padding: 6px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .apply { background: #28a745; color: #fff; }
    .share { background: #17a2b8; color: #fff; }

    .stars span {
      cursor: pointer;
      font-size: 18px;
    }
    .stars .active { color: gold; }

    .section {
      margin-top: 30px;
    }
    .section h2 {
      font-size: 20px;
      border-bottom: 2px solid #007bff;
      padding-bottom: 5px;
      margin-bottom: 10px;
    }

    .dark-toggle {
      cursor: pointer;
      background: #ffc107;
      color: #000;
      padding: 5px 10px;
      border-radius: 5px;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="top-bar">
    <div>
      üìû Support: +91-9876543210 | ‚úâ support@jobify.com
    </div>
    <div>
      <span class="dark-toggle" onclick="toggleDark()">üåô Dark Mode</span>
      <a href="javascript:void(0)" onclick="shareApp()">üì§ Share App</a>
    </div>
  </div>

  <header>
    <h1>Jobify</h1>
    <p>Find Your Dream Job Today</p>
  </header>

  <div class="container">
    <!-- Search -->
    <div class="search-bar">
      <input type="text" id="keyword" placeholder="Search job title...">
      <select id="location">
        <option value="">All Locations</option>
        <option value="pune">Pune</option>
        <option value="mumbai">Mumbai</option>
      </select>
      <button onclick="filterJobs()">Search</button>
    </div>

    <!-- Jobs -->
    <div id="job-list">
      <div class="job-card" data-id="1" data-title="Software Engineer" data-location="pune">
        <h3>Software Engineer</h3>
        <p>Company: TechCorp | Location: Pune</p>
        <div class="stars" onclick="rateJob(event,1)">‚≠ê ‚≠ê ‚≠ê ‚≠ê ‚≠ê</div>
        <div class="job-actions">
          <button class="apply">Apply Now</button>
          <button class="share" onclick="shareJob('Software Engineer at TechCorp, Pune')">Share</button>
        </div>
      </div>

      <div class="job-card" data-id="2" data-title="Marketing Manager" data-location="mumbai">
        <h3>Marketing Manager</h3>
        <p>Company: MarketPlus | Location: Mumbai</p>
        <div class="stars" onclick="rateJob(event,2)">‚≠ê ‚≠ê ‚≠ê ‚≠ê ‚≠ê</div>
        <div class="job-actions">
          <button class="apply">Apply Now</button>
          <button class="share" onclick="shareJob('Marketing Manager at MarketPlus, Mumbai')">Share</button>
        </div>
      </div>
    </div>

    <!-- Recently Viewed -->
    <div class="section" id="recent-section">
      <h2>üëÄ Recently Viewed</h2>
      <ul id="recent-jobs"></ul>
    </div>

    <!-- Trending -->
    <div class="section" id="trending-section">
      <h2>üî• Trending Jobs</h2>
      <ul id="trending-jobs"></ul>
    </div>
  </div>

<script>
  // Dark Mode
  function toggleDark() {
    document.body.classList.toggle("dark");
  }

  // Filter Jobs
  function filterJobs() {
    const keyword = document.getElementById("keyword").value.toLowerCase();
    const location = document.getElementById("location").value;
    const jobs = document.querySelectorAll(".job-card");

    jobs.forEach(job => {
      const title = job.getAttribute("data-title").toLowerCase();
      const jobLocation = job.getAttribute("data-location");
      let show = true;

      if (keyword && !title.includes(keyword)) show = false;
      if (location && jobLocation !== location) show = false;

      job.style.display = show ? "block" : "none";
    });
  }

  // Share App
  function shareApp() {
    const text = "Check out Jobify ‚Äì Find Your Dream Job!";
    const url = window.location.href;
    window.open(`https://wa.me/?text=${encodeURIComponent(text + " " + url)}`, "_blank");
  }

  // Share Job
  function shareJob(details) {
    const url = window.location.href;
    const message = encodeURIComponent(`${details}\nApply here: ${url}`);
    window.open(`https://wa.me/?text=${message}`, "_blank");
  }

  // Job Rating
  function rateJob(event, id) {
    if (event.target.tagName === "SPAN" || event.target.tagName === "DIV") {
      let stars = event.currentTarget.querySelectorAll("span,div");
    }
    let parent = event.currentTarget;
    let clickedIndex = Array.from(parent.children).indexOf(event.target);
    for (let i = 0; i < parent.children.length; i++) {
      parent.children[i].classList.toggle("active", i <= clickedIndex);
    }
    alert("Thanks for rating Job ID: " + id);
  }

  // Recently Viewed + Trending
  const viewedJobs = [];
  const trending = {};

  document.querySelectorAll(".job-card").forEach(job => {
    job.addEventListener("click", () => {
      const title = job.getAttribute("data-title");
      // Recently Viewed
      if (!viewedJobs.includes(title)) {
        viewedJobs.unshift(title);
        if (viewedJobs.length > 5) viewedJobs.pop();
        updateRecent();
      }
      // Trending Count
      trending[title] = (trending[title] || 0) + 1;
      updateTrending();
    });
  });

  function updateRecent() {
    const ul = document.getElementById("recent-jobs");
    ul.innerHTML = "";
    viewedJobs.forEach(job => {
      const li = document.createElement("li");
      li.textContent = job;
      ul.appendChild(li);
    });
  }

  function updateTrending() {
    const ul = document.getElementById("trending-jobs");
    ul.innerHTML = "";
    const sorted = Object.entries(trending).sort((a,b)=>b[1]-a[1]);
    sorted.slice(0,5).forEach(([job, count])=>{
      const li = document.createElement("li");
      li.textContent = `${job} (${count} views)`;
      ul.appendChild(li);
    });
  }
</script>
</body>
</html>
