<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AuraJobs — Clean Responsive Job Portal</title>
  <meta name="description" content="Single-file responsive job portal — save jobs, login with email, animated background, fully internal." />
  <style>
    /* ------------------------------
       MOBILE-FIRST BASE STYLES
       ------------------------------ */
    :root{
      --bg-a:#eef6ff; --bg-b:#f7fbff;
      --card:#ffffff; --muted:#64748b; --text:#061826;
      --accent-1:#7c3aed; --accent-2:#06b6d4; --accent-3:#2563eb;
      --success:#10b981; --danger:#ef4444;
      --glass: rgba(255,255,255,0.6);
      --radius:14px; --shadow: 0 10px 30px rgba(2,6,23,0.08);
      --max-width:1100px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      font-size:16px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;padding:0;background:linear-gradient(180deg,var(--bg-a),var(--bg-b));color:var(--text);-webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;}
    a{color:inherit}
    button{font:inherit}
    /* container */
    .frame{max-width:var(--max-width);margin:18px auto;padding:18px;position:relative;z-index:2}
    /* header */
    header.appbar{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,var(--accent-1),var(--accent-3));display:grid;place-items:center;color:#fff;font-weight:800;box-shadow:var(--shadow)}
    .title{font-weight:700;font-size:1.05rem}
    .subtitle{font-size:.78rem;color:var(--muted)}
    /* nav */
    nav.controls{display:flex;align-items:center;gap:8px}
    .nav-link{background:transparent;padding:8px 10px;border-radius:10px;font-weight:700;color:var(--muted);border:1px solid transparent}
    .nav-link.active{background:rgba(255,255,255,0.6);box-shadow:var(--shadow);color:var(--text)}
    .pill{background:var(--glass);padding:8px 10px;border-radius:999px;border:1px solid rgba(255,255,255,0.35);font-weight:700}
    .btn{background:var(--card);padding:10px 12px;border-radius:10px;border:1px solid rgba(2,6,23,0.06);cursor:pointer;font-weight:700}
    .btn.primary{background:linear-gradient(90deg,var(--accent-1),var(--accent-3));color:#fff;border:0}
    /* layout */
    .main{display:grid;grid-template-columns:1fr;gap:12px}
    .card{background:var(--card);border-radius:12px;padding:14px;box-shadow:var(--shadow)}
    /* filters (mobile collapsible) */
    .filtersHdr{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:10px}
    .filtersRow{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px}
    .chip{padding:8px 10px;border-radius:999px;border:1px solid #eef2ff;background:linear-gradient(180deg,#fff,#fbfdff);cursor:pointer;font-weight:700;color:var(--muted)}
    .chip.active{background:linear-gradient(90deg,#ede9fe,#dbeafe);border-color:#c7b8ff;color:var(--text)}
    .rangeRow{display:flex;align-items:center;gap:10px}
    .searchRow{display:flex;gap:8px;flex-wrap:wrap}
    input[type="text"], input[type="email"], input[type="search"], select, textarea{padding:10px;border-radius:10px;border:1px solid #e6eefb;flex:1;min-width:0}
    input[type="range"]{width:100%}
    /* job list */
    .jobList{display:grid;gap:12px}
    .job{display:flex;gap:12px;align-items:flex-start;padding:12px;border-radius:12px;border:1px solid rgba(2,6,23,0.04);background:linear-gradient(180deg,#fff,#fbfdff)}
    .logoSm{width:56px;height:56;border-radius:10px;background:linear-gradient(135deg,#fff,#f3f4f6);display:grid;place-items:center;font-weight:800;color:var(--text)}
    .jobMeta{display:flex;gap:8px;flex-wrap:wrap;color:var(--muted);font-weight:700;font-size:.9rem}
    .jobDesc{margin-top:6px;color:var(--muted);font-size:.95rem}
    .jobActions{margin-left:auto;display:flex;flex-direction:column;gap:8px;align-items:flex-end}
    .saveBtn{background:transparent;border:2px dashed #eef2ff;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:800}
    .saveBtn.saved{background:linear-gradient(90deg,#f0fdf4,#dcfce7);border-style:solid;border-color:rgba(16,185,129,0.15)}
    .applyBtn{min-width:88px}
    /* footer */
    footer{margin-top:12px;text-align:center;color:var(--muted);font-size:.85rem}
    /* toast */
    .toast{position:fixed;right:16px;bottom:16px;background:rgba(2,6,23,0.9);color:#fff;padding:10px 14px;border-radius:10px;z-index:9999}
    /* dialog fallback style for small screens */
    dialog{border:none;border-radius:12px;padding:0}
    dialog .dlgInner{padding:14px}
    /* animated background (blobs + particles) */
    .bgWrap{position:fixed;inset:0;z-index:0;pointer-events:none;overflow:hidden}
    .blob{position:absolute;width:60vmax;height:60vmax;border-radius:50%;filter:blur(60px);opacity:0.45;mix-blend-mode:overlay;transform:translate3d(0,0,0)}
    .blob1{background:radial-gradient(circle at 30% 30%, var(--accent-1), #4f46e5);left:-12%;top:-22%}
    .blob2{background:radial-gradient(circle at 70% 70%, var(--accent-2), #06b6d4);right:-16%;bottom:-26%;opacity:0.36}
    .particle{position:absolute;border-radius:50%;opacity:0.12;background:linear-gradient(90deg,#fff,rgba(255,255,255,0.4))}
    /* responsive (tablet + desktop) */
    @media (min-width:780px){
      .main{grid-template-columns:320px 1fr}
      .jobActions{align-items:flex-end}
    }
    @media (min-width:1100px){
      .frame{margin:32px auto;padding:28px}
    }
    /* accessibility focus */
    .chip:focus, .btn:focus, .nav-link:focus, .saveBtn:focus, .applyBtn:focus{outline:3px solid rgba(99,102,241,0.18);outline-offset:3px}
    /* smaller text for tiny screens */
    @media (max-width:360px){
      :root{font-size:15px}
      .logo{width:44px;height:44px}
      .logoSm{width:48px;height:48}
    }
  </style>
</head>
<body>
  <!-- Animated background -->
  <div class="bgWrap" aria-hidden="true">
    <div class="blob blob1"></div>
    <div class="blob blob2"></div>
    <!-- JS will add particles -->
  </div>

  <div class="frame" role="application">
    <!-- Header -->
    <header class="appbar" role="banner">
      <div class="brand" onclick="goto('jobs')" style="cursor:pointer">
        <div class="logo" aria-hidden="true">AJ</div>
        <div>
          <div class="title">AuraJobs</div>
          <div class="subtitle">Clean • Fast • Mobile-first</div>
        </div>
      </div>

      <nav class="controls" id="nav" aria-label="Main navigation">
        <button class="nav-link active" data-route="#jobs" aria-pressed="true">Jobs</button>
        <button class="nav-link" data-route="#saved">Saved</button>
        <button class="nav-link" data-route="#applications">Applications</button>
        <div class="pill" id="userView">Guest</div>
        <button id="btnLogin" class="btn">Login</button>
      </nav>
    </header>

    <!-- Main content -->
    <main class="main" role="main">
      <!-- Filters -->
      <aside class="card filters" id="filtersCard">
        <div class="filtersHdr">
          <div style="font-weight:800">Filters</div>
          <button id="toggleFilters" class="btn" aria-expanded="true">Hide</button>
        </div>

        <div>
          <label class="muted">Search</label>
          <div style="display:flex;gap:8px;margin:8px 0 12px">
            <input id="q" type="search" placeholder="Role, company or tag" aria-label="Search jobs" />
            <button id="btnSearch" class="btn primary">Search</button>
          </div>
        </div>

        <div style="margin-bottom:10px">
          <label class="muted">Job Type</label>
          <div class="filtersRow chips" id="filterType"></div>
        </div>

        <div style="margin-bottom:10px">
          <label class="muted">Mode</label>
          <div class="filtersRow chips" id="filterMode"></div>
        </div>

        <div style="margin-bottom:6px">
          <label class="muted">Max Salary (k)</label>
          <div class="rangeRow" style="gap:10px;margin-top:6px">
            <input id="salaryRange" type="range" min="10" max="250" value="120" aria-label="Max salary" />
            <div id="salaryLabel" class="muted">Up to ₹120k</div>
          </div>
        </div>

        <div style="margin-top:10px;display:flex;gap:8px">
          <button id="btnClear" class="btn">Clear</button>
          <button id="btnResetData" class="btn" title="Reset demo data">Reset</button>
        </div>
      </aside>

      <!-- Job listing -->
      <section class="card" id="jobsSection" aria-labelledby="jobsHeading">
        <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:8px">
          <div>
            <div id="resultsInfo" class="muted">0 results</div>
          </div>
          <div style="display:flex;gap:8px;align-items:center">
            <button id="btnPrev" class="btn" aria-label="Previous page">Prev</button>
            <button id="btnNext" class="btn" aria-label="Next page">Next</button>
          </div>
        </div>

        <div id="jobList" class="jobList" aria-live="polite"></div>
      </section>
    </main>

    <footer>Built with ❤️ — Demo portal. Data persists locally in your browser.</footer>
  </div>

  <!-- Login dialog -->
  <dialog id="loginDlg" aria-modal="true" role="dialog">
    <div class="dlgInner">
      <h3 style="margin:0 0 10px 0">Sign in with Email</h3>
      <form id="loginForm">
        <div style="display:flex;flex-direction:column;gap:8px;margin-bottom:10px">
          <label class="muted">Email</label>
          <input id="email" type="email" required placeholder="you@domain.com" />
        </div>
        <div style="display:flex;flex-direction:column;gap:8px;margin-bottom:12px">
          <label class="muted">Full name (display)</label>
          <input id="fullname" type="text" placeholder="Jane Doe" />
        </div>
        <div style="display:flex;justify-content:flex-end;gap:8px">
          <button type="button" id="btnCancel" class="btn">Cancel</button>
          <button type="submit" class="btn primary">Sign in</button>
        </div>
      </form>
    </div>
  </dialog>

  <!-- tiny toast container -->
  <div id="toastWrap" aria-hidden="true"></div>

  <script>
    /* --------------------------
       App: state, seed, helpers
       -------------------------- */
    const state = {
      jobs: [],
      saved: new Set(JSON.parse(localStorage.getItem('aj_saved')||'[]')),
      apps: JSON.parse(localStorage.getItem('aj_apps')||'[]'),
      user: JSON.parse(localStorage.getItem('aj_user')||'null'),
      filters: { type: new Set(), mode: new Set(), maxSalary: 120 },
      q: '', page: 1, perPage: 5
    };

    const SEED = [
      {id:1,title:'Frontend Developer',company:'Aurora Soft',location:'Bengaluru, IN',type:'Full-time',mode:'Hybrid',experience:'1-3',salary:120,tags:['React','TypeScript','UI'],desc:'Build modern interfaces and reusable components.'},
      {id:2,title:'Backend Engineer',company:'Nimbus Labs',location:'Remote',type:'Full-time',mode:'Remote',experience:'3-5',salary:180,tags:['Node','Databases','APIs'],desc:'Design scalable services and APIs.'},
      {id:3,title:'Product Manager',company:'Orbit Co',location:'Mumbai, IN',type:'Full-time',mode:'On-site',experience:'5+',salary:220,tags:['Roadmap','Stakeholder'],desc:'Lead product strategy and delivery.'},
      {id:4,title:'UI/UX Designer',company:'PixelCraft',location:'Pune, IN',type:'Part-time',mode:'Remote',experience:'1-3',salary:70,tags:['Figma','Prototyping'],desc:'Design delightful experiences.'},
      {id:5,title:'Data Analyst',company:'DataMinds',location:'Hyderabad, IN',type:'Contract',mode:'Hybrid',experience:'1-3',salary:95,tags:['SQL','Python'],desc:'Extract insights and build dashboards.'},
      {id:6,title:'Sales Executive',company:'SellWell',location:'Delhi, IN',type:'Full-time',mode:'On-site',experience:'0-1',salary:45,tags:['Sales','CRM'],desc:'Drive new client acquisitions.'},
      {id:7,title:'DevOps Engineer',company:'CloudPulse',location:'Remote',type:'Full-time',mode:'Remote',experience:'3-5',salary:160,tags:['AWS','Kubernetes'],desc:'Improve CI/CD and infra.'},
      {id:8,title:'Customer Success',company:'HappyUsers',location:'Chennai, IN',type:'Full-time',mode:'Hybrid',experience:'0-1',salary:40,tags:['Support','SaaS'],desc:'Help customers achieve success.'}
    ];

    const $ = (s,el=document)=>el.querySelector(s);
    const $$ = (s,el=document)=>[...el.querySelectorAll(s)];
    const uid = ()=>Math.random().toString(36).slice(2,9);

    function saveAll(){ localStorage.setItem('aj_saved', JSON.stringify([...state.saved])); localStorage.setItem('aj_apps', JSON.stringify(state.apps)); localStorage.setItem('aj_user', JSON.stringify(state.user)); }

    /* --------------------------
       Init / UI wiring
       -------------------------- */
    function init(){
      // load jobs (persisted or seed)
      state.jobs = JSON.parse(localStorage.getItem('aj_jobs')||'null') || SEED.map(j=>({...j, created: Date.now() - Math.floor(Math.random()*10)*24*3600*1000}));
      localStorage.setItem('aj_jobs', JSON.stringify(state.jobs));

      // build filter chips
      const types = [...new Set(state.jobs.map(j=>j.type))];
      const modes = [...new Set(state.jobs.map(j=>j.mode))];
      renderChips('#filterType', types, state.filters.type);
      renderChips('#filterMode', modes, state.filters.mode);

      // events
      $('#q').addEventListener('input', e=>{ state.q = e.target.value.trim(); state.page=1; render(); });
      $('#btnSearch').addEventListener('click', ()=>{ state.q = $('#q').value.trim(); state.page=1; render(); });
      $('#salaryRange').addEventListener('input', e=>{ state.filters.maxSalary = +e.target.value; $('#salaryLabel').textContent = `Up to ₹${state.filters.maxSalary}k`; state.page=1; render(); });
      $('#btnClear').addEventListener('click', ()=>{ clearFilters(); });
      $('#btnPrev').addEventListener('click', ()=>{ if(state.page>1){ state.page--; render(); } });
      $('#btnNext').addEventListener('click', ()=>{ state.page++; render(); });

      // nav and login
      $$('[data-route]').forEach(btn=>btn.addEventListener('click',(ev)=>{ev.preventDefault(); goto(btn.getAttribute('data-route').slice(1));}));
      $('#btnLogin').addEventListener('click', ()=>{ if(state.user) onLogout(); else openLogin(); });
      $('#btnCancel').addEventListener('click', ()=>$('#loginDlg').close());
      $('#loginForm').addEventListener('submit', onLogin);

      // toggle filters (mobile)
      $('#toggleFilters').addEventListener('click', ()=>{ const a = $('#filtersCard'); const expanded = $('#toggleFilters').getAttribute('aria-expanded')==='true'; $('#toggleFilters').textContent = expanded ? 'Show' : 'Hide'; $('#toggleFilters').setAttribute('aria-expanded', !expanded); a.style.display = expanded ? 'none' : ''; });

      // reset demo data
      $('#btnResetData').addEventListener('click', ()=>{ if(confirm('Reset demo job data and local saved state?')){ localStorage.removeItem('aj_jobs'); localStorage.removeItem('aj_saved'); localStorage.removeItem('aj_apps'); localStorage.removeItem('aj_user'); location.reload(); } });

      // populate user view
      if(state.user){ $('#userView').textContent = state.user.name || state.user.email; $('#btnLogin').textContent = 'Logout'; }
      else { $('#userView').textContent = 'Guest'; $('#btnLogin').textContent = 'Login'; }

      // background particles
      createParticles(20);

      // initial route
      goto('jobs');
    }

    /* --------------------------
       Filters & rendering
       -------------------------- */
    function renderChips(selector, items, set){
      const el = $(selector); el.innerHTML = '';
      items.forEach(it=>{
        const b = document.createElement('button'); b.className='chip'; b.textContent = it; b.dataset.key = it;
        if(set.has(it)) b.classList.add('active');
        b.addEventListener('click', ()=>{ if(set.has(it)) set.delete(it); else set.add(it); b.classList.toggle('active'); state.page=1; render(); });
        el.appendChild(b);
      });
    }

    function clearFilters(){
      state.filters.type.clear(); state.filters.mode.clear(); state.filters.maxSalary = 120; $('#salaryRange').value=120; $('#salaryLabel').textContent='Up to ₹120k';
      $$('#filterType .chip').forEach(c=>c.classList.remove('active')); $$('#filterMode .chip').forEach(c=>c.classList.remove('active'));
      $('#q').value=''; state.q=''; state.page=1; render(); toast('Filters cleared');
    }

    function applyFilters(list){
      let out = list.filter(j=> j.salary <= state.filters.maxSalary);
      if(state.q){ const q = state.q.toLowerCase(); out = out.filter(j=> (j.title+' '+j.company+' '+j.tags.join(' ')).toLowerCase().includes(q)); }
      if(state.filters.type.size) out = out.filter(j=> state.filters.type.has(j.type));
      if(state.filters.mode.size) out = out.filter(j=> state.filters.mode.has(j.mode));
      out.sort((a,b)=> b.created - a.created);
      return out;
    }

    function render(){
      const list = applyFilters(state.jobs);
      const total = list.length;
      const pages = Math.max(1, Math.ceil(total/state.perPage));
      if(state.page>pages) state.page = pages;
      const start = (state.page-1)*state.perPage; const pageItems = list.slice(start, start+state.perPage);

      $('#resultsInfo').textContent = `${total} result${total!==1?'s':''}`;
      const wrap = $('#jobList'); wrap.innerHTML = '';
      pageItems.forEach(j => wrap.append(createJobCard(j)));
      $('#btnPrev').disabled = state.page<=1; $('#btnNext').disabled = state.page>=pages;
    }

    function createJobCard(j){
      const el = document.createElement('article'); el.className = 'job';
      el.innerHTML = `
        <div class="logoSm" aria-hidden="true">${escapeHTML(j.company.split(' ')[0][0]||'A')}</div>
        <div style="flex:1">
          <div style="display:flex;align-items:center;justify-content:space-between;gap:12px">
            <div>
              <h3 style="margin:0;font-size:1rem">${escapeHTML(j.title)}</h3>
              <div class="jobMeta">${escapeHTML(j.company)} • ${escapeHTML(j.location)} • ${escapeHTML(j.experience)} yrs</div>
            </div>
            <div style="text-align:right;font-weight:800;color:var(--text)">₹${j.salary}k</div>
          </div>
          <div class="jobDesc">${escapeHTML(j.desc)}</div>
          <div style="margin-top:8px">${j.tags.map(t=>`<span style="display:inline-block;padding:4px 8px;border-radius:999px;background:#f1f5f9;font-weight:700;font-size:.8rem;margin-right:6px">${escapeHTML(t)}</span>`).join('')}</div>
        </div>
        <div class="jobActions">
          <button class="saveBtn ${state.saved.has(j.id)?'saved':''}" data-id="${j.id}">${state.saved.has(j.id)?'Saved':'Save'}</button>
          <button class="btn primary applyBtn" data-apply="${j.id}">Apply</button>
        </div>
      `;
      // attach handlers
      el.querySelector('[data-apply]').addEventListener('click', ()=>applyJob(j));
      const sb = el.querySelector('.saveBtn');
      sb.addEventListener('click', ()=>toggleSave(j.id, sb));
      return el;
    }

    /* --------------------------
       Save / Apply / Apps
       -------------------------- */
    function toggleSave(id, btn){
      if(state.saved.has(id)){ state.saved.delete(id); btn.classList.remove('saved'); btn.textContent='Save'; toast('Removed from saved'); }
      else { state.saved.add(id); btn.classList.add('saved'); btn.textContent='Saved'; toast('Saved'); }
      saveAll();
    }

    function applyJob(job){
      if(!state.user){ toast('Please sign in to apply'); openLogin(); return; }
      state.apps.unshift({id:uid(), jobId:job.id, title:job.title, company:job.company, when:Date.now(), applicant:state.user.email});
      saveAll();
      toast('Application submitted');
      renderApps();
      goto('applications');
    }

    function renderApps(){
      const appsEl = document.getElementById('applicationsList');
      // create a simple list inside the jobsSection when route is applications
      if(!appsEl){
        // create if not exists
        const ul = document.createElement('ul'); ul.id = 'applicationsList'; ul.style.marginTop = '10px';
        const parent = document.querySelector('#jobsSection .card');
        parent.appendChild(ul);
      }
      const listEl = document.getElementById('applicationsList');
      listEl.innerHTML = '';
      if(!state.apps.length){ listEl.innerHTML = '<li class="muted">No applications yet</li>'; return; }
      state.apps.forEach(a=>{ const li = document.createElement('li'); li.style.padding='8px'; li.style.margin='6px 0'; li.style.listStyle='none'; li.style.borderRadius='8px'; li.style.background='#fff'; li.style.boxShadow='var(--shadow)'; li.textContent = `${a.title} — ${a.company} (${new Date(a.when).toLocaleString()})`; listEl.appendChild(li); });
    }

    /* --------------------------
       Login flows
       -------------------------- */
    function openLogin(){ $('#loginDlg').showModal(); $('#email').focus(); }
    function onLogin(e){
      e.preventDefault();
      const email = $('#email').value.trim(); const name = $('#fullname').value.trim() || email.split('@')[0];
      if(!validateEmail(email)){ alert('Please enter a valid email'); return; }
      state.user = { email, name }; saveAll();
      $('#userView').textContent = name; $('#btnLogin').textContent = 'Logout';
      $('#loginDlg').close(); toast(`Welcome, ${name}`);
    }
    function onLogout(){ if(confirm('Logout?')){ state.user = null; localStorage.removeItem('aj_user'); $('#userView').textContent='Guest'; $('#btnLogin').textContent='Login'; toast('Logged out'); } }
    function validateEmail(e){ return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e); }

    /* --------------------------
       Routing (simple)
       -------------------------- */
    function clearNavActive(){ $$('.nav-link').forEach(n=>n.classList.remove('active')); }
    function goto(section){
      clearNavActive();
      const btn = $$('[data-route]').find(b=>b.getAttribute('data-route')==('#'+section));
      if(btn) btn.classList.add('active');
      // show/hide content: here we keep filters visible and just swap jobs view behavior
      if(section==='jobs'){ render(); }
      if(section==='saved'){ showSaved(); }
      if(section==='applications'){ renderApps(); }
    }

    function showSaved(){
      const ids = [...state.saved];
      const items = state.jobs.filter(j=> ids.includes(j.id));
      $('#resultsInfo').textContent = `${items.length} saved`;
      const wrap = $('#jobList'); wrap.innerHTML = '';
      if(!items.length){ wrap.innerHTML = '<div class="muted">No saved jobs</div>'; return; }
      items.forEach(j=>wrap.append(createJobCard(j)));
    }

    /* --------------------------
       Particles & animated bg
       -------------------------- */
    function createParticles(n){
      const wrap = document.querySelector('.bgWrap');
      for(let i=0;i<n;i++){
        const p = document.createElement('div'); p.className='particle';
        const size = 6 + Math.random()*36; p.style.width = p.style.height = size+'px';
        p.style.left = Math.random()*100 + '%'; p.style.top = Math.random()*100 + '%';
        p.style.opacity = 0.06 + Math.random()*0.12;
        wrap.appendChild(p);
        animateParticle(p);
      }
    }
    function animateParticle(el){
      const dur = 8000 + Math.random()*10000;
      const dx = (Math.random()-0.5)*40;
      el.animate([
        { transform: 'translateY(0px) translateX(0px)', opacity: el.style.opacity },
        { transform: `translateY(-60vh) translateX(${dx}vw)`, opacity: 0 }
      ], { duration: dur, iterations: Infinity, delay: Math.random()*2000 });
    }

    /* --------------------------
       Utility & small UX
       -------------------------- */
    function toast(msg){
      const t = document.createElement('div'); t.className='toast'; t.textContent = msg;
      document.getElementById('toastWrap').appendChild(t);
      setTimeout(()=> t.style.opacity = 0, 1400);
      setTimeout(()=> t.remove(), 1700);
    }
    function escapeHTML(s){ return String(s).replace(/[&<>"']/g, (m)=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' }[m] )); }

    /* --------------------------
       Init call
       -------------------------- */
    init();
  </script>
</body>
</html>
